<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>ƒêi·ªÉm Danh H·ªçc Sinh</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      margin: 0;
      padding: 0;
      background: #f9fbfd;
      color: #333;
    }
    header {
      background: #4da8da;
      color: white;
      padding: 20px 0;
      text-align: center;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    header h1 {
      margin: 0;
      font-size: 26px;
    }
    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    .controls {
      text-align: center;
      margin-bottom: 20px;
    }
    select, input[type="date"], button {
      padding: 10px 16px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin: 10px 5px;
      transition: 0.2s;
    }
    button {
      background: #4da8da;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #3995c6;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 10px;
      text-align: center;
      border: 1px solid #e0e0e0;
    }
    th {
      background: #e9f5fc;
    }
    #thongbao {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      border-radius: 5px;
      text-align: center;
    }
    @media (max-width: 768px) {
      table, th, td {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>H·ªá Th·ªëng ƒêi·ªÉm Danh H·ªçc Sinh Online</h1>
</header>

<div class="container">
  <div class="controls">
    <label for="ngayDiemDanh">üìÖ Ng√†y ƒëi·ªÉm danh:</label>
    <input type="date" id="ngayDiemDanh" value="">
    <br>
    <label for="lopSelect">üè´ Ch·ªçn l·ªõp:</label>
    <select id="lopSelect" onchange="hienThiLop()"></select>
    <br>
    <button onclick="luuDiemDanh()">üíæ L∆∞u ƒëi·ªÉm danh</button>
    <button onclick="guiThongBao()">üì¢ G·ª≠i th√¥ng b√°o</button>
  </div>

  <div id="danhSachHocSinh"></div>
  <div id="thongbao"></div>
</div>

<script>
  const danhSachLop = [];

  document.addEventListener('DOMContentLoaded', () => {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('ngayDiemDanh').value = today;
    sinhDuLieu();
  });

  function sinhDuLieu() {
    const khoiList = [10, 11, 12];
    khoiList.forEach(khoi => {
      for (let i = 1; i <= 5; i++) {
        const tenLop = `${khoi}A${i}`;
        const hocSinh = [];
        for (let j = 1; j <= 40; j++) {
          const namSinh = khoi === 10 ? 2010 : khoi === 11 ? 2009 : 2008;
          const thang = String(Math.floor(Math.random() * 12 + 1)).padStart(2, '0');
          const ngay = String(Math.floor(Math.random() * 28 + 1)).padStart(2, '0');
          hocSinh.push({
            id: `${tenLop}-${j}`,
            hoTen: `HS ${j} - ${tenLop}`,
            ngaySinh: `${namSinh}-${thang}-${ngay}`,
            gioiTinh: j % 2 === 0 ? 'Nam' : 'N·ªØ',
            lop: tenLop,
            khoi: khoi,
            diemDanh: 'C√≥ m·∫∑t'
          });
        }
        danhSachLop.push({ tenLop, hocSinh });
      }
    });

    const select = document.getElementById('lopSelect');
    danhSachLop.forEach(lop => {
      const option = document.createElement('option');
      option.value = lop.tenLop;
      option.textContent = lop.tenLop;
      select.appendChild(option);
    });

    hienThiLop();
  }

  function hienThiLop() {
    const lopChon = document.getElementById('lopSelect').value;
    const lop = danhSachLop.find(l => l.tenLop === lopChon);
    const container = document.getElementById('danhSachHocSinh');

    let html = `<h2 style="text-align:center;">L·ªõp ${lop.tenLop} - Kh·ªëi ${lop.hocSinh[0].khoi}</h2>`;
    html += `<table>
      <thead>
        <tr>
          <th>STT</th>
          <th>H·ªç t√™n</th>
          <th>Ng√†y sinh</th>
          <th>Gi·ªõi t√≠nh</th>
          <th>ƒêi·ªÉm danh</th>
        </tr>
      </thead>
      <tbody>`;

    lop.hocSinh.forEach((hs, index) => {
      html += `
        <tr>
          <td>${index + 1}</td>
          <td>${hs.hoTen}</td>
          <td>${hs.ngaySinh}</td>
          <td>${hs.gioiTinh}</td>
          <td>
            <label><input type="radio" name="dd_${hs.id}" value="C√≥ m·∫∑t" checked> C√≥ m·∫∑t</label>
            <label><input type="radio" name="dd_${hs.id}" value="V·∫Øng"> V·∫Øng</label>
          </td>
        </tr>`;
    });

    html += `</tbody></table>`;
    container.innerHTML = html;
    document.getElementById('thongbao').style.display = 'none';
  }

  function luuDiemDanh() {
    const lopChon = document.getElementById('lopSelect').value;
    const lop = danhSachLop.find(l => l.tenLop === lopChon);

    lop.hocSinh.forEach(hs => {
      const radios = document.getElementsByName(`dd_${hs.id}`);
      for (const radio of radios) {
        if (radio.checked) {
          hs.diemDanh = radio.value;
          break;
        }
      }
    });

    alert(`‚úÖ ƒêi·ªÉm danh l·ªõp ${lop.tenLop} ƒë√£ ƒë∆∞·ª£c l∆∞u!`);
  }

  function guiThongBao() {
    const ngay = document.getElementById('ngayDiemDanh').value;
    const lopChon = document.getElementById('lopSelect').value;
    const lop = danhSachLop.find(l => l.tenLop === lopChon);
    const vang = lop.hocSinh.filter(hs => hs.diemDanh === "V·∫Øng");

    let noiDung = `üì¢ Th√¥ng b√°o l·ªõp ${lop.tenLop} - Ng√†y ${ngay}: C√≥ ${vang.length} h·ªçc sinh v·∫Øng m·∫∑t.`;
    const tb = document.getElementById('thongbao');
    tb.innerText = noiDung;
    tb.style.display = 'block';
  }
</script>

</body>
</html>
